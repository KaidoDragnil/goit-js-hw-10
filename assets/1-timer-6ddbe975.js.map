{"version":3,"file":"1-timer-6ddbe975.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport izitoast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nconst dateTimePicker = document.querySelector('#datetime-picker');\nconst btnStart = document.querySelector('.timer-input-box button');\nconst dataDays = document.querySelector('[data-days]');\nconst dataHours = document.querySelector('[data-hours]');\nconst dataMinutes = document.querySelector('[data-minutes]');\nconst dataSeconds = document.querySelector('[data-seconds]');\nlet userSelectedDate = '';\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] < new Date()) {\n      btnStart.setAttribute('disabled', true);\n      izitoast.error({\n        position: 'topRight',\n        message: 'Please choose a date in the future',\n      });\n    } else {\n      btnStart.removeAttribute('disabled');\n      userSelectedDate = selectedDates[0];\n    }\n  },\n};\nconst datePicker = flatpickr(dateTimePicker, options);\ndateTimePicker.addEventListener('focus', () => {\n  datePicker.config.defaultDate = new Date();\n});\nbtnStart.addEventListener('click', () => {\n  const selectedDateTime = userSelectedDate.getTime();\n  const curentDateTime = new Date().getTime();\n  if (selectedDateTime - curentDateTime < 0) {\n    izitoast.error({\n      position: 'topRight',\n      message: 'Please choose a date in the future',\n    });\n    return;\n  }\n  dateTimePicker.setAttribute('disabled', true);\n  btnStart.setAttribute('disabled', true);\n  let intervalid = setInterval(() => {\n    let deltaTime = selectedDateTime - new Date().getTime() - 1000;\n    if (deltaTime < 1000) {\n      clearInterval(intervalid);\n      dateTimePicker.removeAttribute('disabled');\n      btnStart.removeAttribute('disabled');\n    }\n    let deltaTimer = convertMs(deltaTime);\n    dataDays.textContent = `${addLeadingZero(deltaTimer.days)}`;\n    dataHours.textContent = `${addLeadingZero(deltaTimer.hours)}`;\n    dataMinutes.textContent = `${addLeadingZero(deltaTimer.minutes)}`;\n    dataSeconds.textContent = `${addLeadingZero(deltaTimer.seconds)}`;\n  }, 1000);\n});\nfunction addLeadingZero(value) {\n  return `${value}`.padStart(2, '0');\n}\n///////////////////////////////////////////////////////////////////////////\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n// console.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\n// console.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\n// console.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n// iziToast.show({\n//   title: 'Hey',\n//   message: 'What would you like to add?',\n// });\n"],"names":["dateTimePicker","btnStart","dataDays","dataHours","dataMinutes","dataSeconds","userSelectedDate","options","selectedDates","izitoast","datePicker","flatpickr","selectedDateTime","curentDateTime","intervalid","deltaTime","deltaTimer","convertMs","addLeadingZero","value","ms","days","hours","minutes","seconds"],"mappings":"2CAIA,MAAMA,EAAiB,SAAS,cAAc,kBAAkB,EAC1DC,EAAW,SAAS,cAAc,yBAAyB,EAC3DC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAC3D,IAAIC,EAAmB,GACvB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACjBA,EAAc,GAAK,IAAI,MACzBP,EAAS,aAAa,WAAY,EAAI,EACtCQ,EAAS,MAAM,CACb,SAAU,WACV,QAAS,oCACjB,CAAO,IAEDR,EAAS,gBAAgB,UAAU,EACnCK,EAAmBE,EAAc,GAEpC,CACH,EACME,EAAaC,EAAUX,EAAgBO,CAAO,EACpDP,EAAe,iBAAiB,QAAS,IAAM,CAC7CU,EAAW,OAAO,YAAc,IAAI,IACtC,CAAC,EACDT,EAAS,iBAAiB,QAAS,IAAM,CACvC,MAAMW,EAAmBN,EAAiB,UACpCO,EAAiB,IAAI,KAAM,EAAC,QAAO,EACzC,GAAID,EAAmBC,EAAiB,EAAG,CACzCJ,EAAS,MAAM,CACb,SAAU,WACV,QAAS,oCACf,CAAK,EACD,MACD,CACDT,EAAe,aAAa,WAAY,EAAI,EAC5CC,EAAS,aAAa,WAAY,EAAI,EACtC,IAAIa,EAAa,YAAY,IAAM,CACjC,IAAIC,EAAYH,EAAmB,IAAI,KAAI,EAAG,QAAS,EAAG,IACtDG,EAAY,MACd,cAAcD,CAAU,EACxBd,EAAe,gBAAgB,UAAU,EACzCC,EAAS,gBAAgB,UAAU,GAErC,IAAIe,EAAaC,EAAUF,CAAS,EACpCb,EAAS,YAAc,GAAGgB,EAAeF,EAAW,IAAI,IACxDb,EAAU,YAAc,GAAGe,EAAeF,EAAW,KAAK,IAC1DZ,EAAY,YAAc,GAAGc,EAAeF,EAAW,OAAO,IAC9DX,EAAY,YAAc,GAAGa,EAAeF,EAAW,OAAO,GAC/D,EAAE,GAAI,CACT,CAAC,EACD,SAASE,EAAeC,EAAO,CAC7B,MAAO,GAAGA,IAAQ,SAAS,EAAG,GAAG,CACnC,CAEA,SAASF,EAAUG,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}